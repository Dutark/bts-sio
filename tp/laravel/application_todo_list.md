# Application Todo Liste

## Introduction

Dans ce TP nous allons r√©aliser une application / site web, le but de cette application / site web est de faire de la prise de note de ¬´ TODO ¬ª ou aussi appel√© liste de t√¢ches.

Une TODO List est un proc√©d√© qui se veut simple et efficace pour g√©rer les t√¢ches d'un projet. Ces t√¢ches peuvent √™tre ind√©pendantes ou devoir, au contraire, √™tre accomplies dans un certain ordre.

Voil√† la liste des fonctionnalit√©s de l‚Äôapplication que l'on va cr√©√©r :

- Lister les t√¢ches.
- Ajouter une t√¢che.
- Marquer comme termin√© une t√¢che.
- Suppression d'une t√¢che.

## Technologie

Dans ce TP nous allons utiliser les technologies suivantes :

- Laravel (Framework PHP)
- Bootstrap 4 (Framework HTML / CSS / JS)
- NodeJS (Utilisation de Webpack)

## Initialiser le projet

La premi√®re √©tape lors d'un projet Laravel est la cr√©ation du projet avec une simple ligne de commande, dans notre cas :

```sh
$ laravel new laravel-todo
Crafting application...
Loading composer repositories with package information
Installing dependencies (including require-dev) from lock file
[‚Ä¶]
```

La cr√©ation prend environ 1 minute, un certain nombre de librairie sont t√©l√©charg√©s. Une fois termin√© prenez quelques instants pour regarder les fichiers qui ont √©t√© cr√©√©.

### ü§ì Questions

- O√π sont les librairies ?
- Quel est l'int√©r√™t √† votre avis d'utiliser un outil pour initialiser un projet ?

## Configurer le projet, le .env

Le projet qui viens d'√™tre cr√©√© est ¬´ g√©n√©rique ¬ª c'est √† dire qu'il ne poss√®de aucune personnalisation et peu donc servir de base quelques soit votre d√©veloppement.

La premi√®re √©tape est donc d'√©diter le fichier ```.env``` pour configurer les options de base de votre projet :

- Le nom
- Le type de base de donn√©es
- ‚Ä¶

### Nom de l'application

- Todolist

### Base de donn√©es

Pour ne pas avoir √† installer un serveur MySQL nous allons utiliser une base donn√©es ¬´ local ¬ª.

Connaissez vous le nom d'un type de base de donn√©es permettant de travailler en ¬´ local ¬ª ?

{% reveal text="Voir la suite du TP" %}

La r√©ponse est SQLite, SQLite est une base de donn√©es de type SQL mais ne n√©c√©ssitant pas de serveur, l'ensemble des donn√©es est contenu dans un fichier ¬´ local ¬ª. Pour la cr√©er rien de plus simple il suffit de cr√©er un fichier vide dans le dossier de votre projet faite :

```sh
$ touch database/database.sqlite
```

Maintenant que le fichier √† √©t√© cr√©√© nous allons indiquer √† Laravel qu'il faut l'utiliser pour √ßa √©diter le fichier ```.env``` et modifier la ligne :

```conf
DB_CONNECTION=mysql
```

par  :

```conf
DB_CONNECTION=sqlite
DB_DATABASE=../database/exemple.db
```

#### Tester

Vous pouvez maintenant tester votre application / site web. Comme vu en cours, Laravel int√®gre un serveur de d√©veloppement ce qui permet de tester rapidement votre d√©veloppement. Le lancement est simple :

```sh
$ php artisan serve
```

#### ü§ì Questions

- √Ä Votre avis, comment repasse ton en Mysql ?
- Est-il possible d'utiliser les deux types de base de donn√©es (par exemple en production MySQL est en developpement sqlite) ?
- SQLite est-il toujours pertinant ?

{% endreveal %}

### Le reste du fichier .env

Nous n'allons pas toucher aux autres param√®tres mais certains sont tout de m√™me int√©r√©ssant. Je vous laisse donc consulter la documentation en ligne de laravel :

[Consulter en ligne](https://laravel.com/docs/5.6/configuration)

## Conception base de donn√©es

Voil√† √† quoi va ressembler notre base de donn√©es :

![MCD Simple](./ressources/todos.png)

ü§ì C‚Äôest parti ! Tout est pr√™t, nous pouvons commencer √† √©crire du code.

## Cr√©ation Model

Laravel utilise un ORM pour manipuler la base de donn√©es. Pour rappel un ORM est

> Un mapping objet-relationnel (en anglais object-relational mapping ou ORM) est une technique de programmation informatique qui cr√©e l'illusion d'une base de donn√©es orient√©e objet √† partir d'une base de donn√©es relationnelle en d√©finissant des correspondances entre cette base de donn√©es et les objets du langage utilis√©.

L'ORM utilis√© par Laravel est Eloquent, il est √† la fois puissant et relativement simple. Autrement dit avec un ORM dans la plus part des cas vous n'√©crivez plus de requ√™te SQL mais vous manipuler des objets repr√©sentant la base de donn√©es.

Comme pour la cr√©ation du projet, la cr√©ation de la table ¬´ todos ¬ª va se faire via une requ√™te dans votre terminal :

```shell
php artisan make:migration create_todos_table --create=todos
```

L‚Äôoption ```--create=todos``` permet d‚Äôindiquer le nom de la table √† cr√©er

‚úã Le contenu du fichier cr√©√© est fictif, il est la pour illustrer comment travailler. Nous allons le modifier pour mettre les informations relative √† notre table.

La commande viens de cr√©er un nouveau fichier dans le dossier ```database/migration```. Dans mon cas :

```log
Created Migration: 2018_09_09_150442_create_todos_table
```

Nous allons d√©finir notre sch√©ma (√† savoir la d√©finition de la table) pour ajouter les 2 colonnes qui nous serons utiles ```texte``` et ```termine```. L'ORM √©tant un librairie objet la d√©finition de nouveau champs ce fait via une m√©thode, exemple :

```php
    $table->string('texte');
    $table->boolean('termine');
```

C'est √† vous ajouter les deux champs dans la m√©thode ```up``` du fichier.

{% reveal text="Voir le fichier avec les nouveaux champs" %}
```php
<?php

use Illuminate\Support\Facades\Schema;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Database\Migrations\Migration;

class CreateTodosTable extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('todos', function (Blueprint $table) {
            $table->increments('id');
            $table->string('texte');
            $table->boolean('termine');
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('todos');
    }
}

```
{% endreveal %}

### ü§ì Questions

- √Ä quoi correspond la m√©thode ```up``` et ```down```
- L'ordre des champs est-il important ?

## Cr√©ation en base

Maintenant que le script est termin√©, nous allons indiquer √† Laravel d'√©ffectuer ¬´ la migration ¬ª c'est-√†-dire de transformer votre d√©finition PHP en inscruction SQL pour cr√©er r√©ellement la base de donn√©es. Pour √ßa retour dans la ligne de commande :

```sh
$ php artisan migrate
[‚Ä¶]
Migrating: 2018_09_09_150442_create_todos_table
Migrated:  2018_09_09_150442_create_todos_table
```

Votre base de donn√©es est maintenant pr√™te √† √™tre utilis√©. Vous pouvez aller voir le contenu grace √† PHPStorm qui est capable (une fois configur√©) de requ√™ter une base SQLite.

![sqlite](./ressources/sqlite-phpstorm.png)
![sqlite1](./ressources/sqlite1.png)
![sqlite2](./ressources/sqlite2.png)
![sqlite3](./ressources/sqlite3.png)

### Le mod√®le

Maintenant que nous avons fait le script de cr√©ation / migration, nous allons d√©finir notre mod√®le. Pour √ßa cr√©ez un fichier ```Todos.php``` dans le dossier ```app/``` avec le contenu suivant :

```php
<?php namespace App;

use Illuminate\Database\Eloquent\Model;

class Todos extends Model
{
    protected $fillable = ['texte', 'termine'];
}
```

le ```$fillable``` d√©finie les propri√©t√©s qui doivent √™tres automatiquement remplis par Eloquent (l‚ÄôORM) lors de l‚Äôexecution du code.

Au passage la propri√©t√© inverse existe, vous pouvez la voir dans le fichier ```User.php```.

## Le controller

Maintenant que nous avons la migration et le models de notre ¬´ base de donn√©es ¬ª, nous allons cr√©er le controller. Pour rappel le controller va faire ¬´ le lien ¬ª entre la base de donn√©es et les appels HTTP. C‚Äôest ici que nous allons mettre la logique m√©tier de notre application.

Pour commencer nous allons cr√©er ¬´ la structure de base ¬ª de notre controller. Pour √ßa cr√©ez le fichier ```TodosController.php``` dans le chemin suivant ```app/Http/Controllers/``` et mettez y le contenu suivant :

```php
<?php

namespace App\Http\Controllers;

use App\Todos;
use App\Http\Controllers\Controller;
use Illuminate\Http\Request;


class TodosController extends Controller{
    // C‚Äôest ici que seront nos m√©thodes
}
```

Bien ! Notre code est maintenant pr√™t. Nous allons cr√©er les m√©thodes permettant la manipulation de notre base de donn√©es tout en r√©pondant √† nos API bien √©videment (liste, creation, terminer, suppression).

Nous allons maintenant √©crire une m√©thode pour chaque actions. Avec les diff√©rentes conditions n√©c√©ssaires au bon fonctionnement de votre application.

### La m√©thode ¬´ Liste ¬ª

La m√©thode ```liste``` est certainement la plus simple, nous allons simplement faire appel √† la m√©thode ```all()``` de Eloquent (ORM pour l‚Äôacc√®s √† la base de donn√©es). Pour √ßa cr√©ez une nouvelle m√©thode dans la Class ```TodoController``` avec le code suivant :

```php
public function liste(){
    return "Liste";
}
```

Rien de bien compliqu√©, comme vous pouvez le voir.

### Les autres suivantes

‚úã Pour l'instant nous allons nous arr√™ter la pour la partie code PHP. Cette m√©thode est suffisante pour ¬´ tester ¬ª le premier template que nous allons √©crire.

## Installation des d√©pendances client

Maintenant que la partie base de donn√©es est pr√™te, nous allons nous occuper de la partie visualisation de notre application / site web. Nous allons utiliser Boostrap pour g√©rer le probl√©matique d'affichage et de responsive.

### Ajouter Bootsrap 4

La structure de base de Laravel n'int√®gre pas Boostrap, par contre elle int√®gre un syst√®me de gestion de d√©pendances. Nous allons nous servir de cette gestion de d√©pendance pour ajouter Boostrap (version 4). Pour √ßa retour dans la ligne de commande :

```sh
$ php artisan preset none
$ php artisan preset bootstrap
```

‚è± Patientez quelques instant, Boostrap est maintenant disponible pour votre projet. Mais pour qu'il soit accessible pour vos templates nous devons ¬´ le compiler ¬ª.

### Pr√©paration des ¬´ Assets ¬ª boostrap ‚Ä¶

Laravel inclus une configuration ¬´ webpack.mix.js ¬ª, celle-ci permet de fusionner l'ensemble des JS et CSS en un seul fichier pour gagner en performance.

Sans entrer dans le d√©tail (nous d√©taillerons le fonctionnement dans un prochain cour), la compilations des ressources (assets) est r√©alis√© avec Webpack. Webpack est un outils NodeJS tr√®s puissant mais qui peut-√™tre complexe, nous allons donc uniqumement l'utiliser.

- Installer [NodeJS version current](https://nodejs.org/en/download/current/)

Une fois install√© retourner dans le dossier de votre projet fait les commandes suivantes :

```sh
$ npm install
$ npm run production
```

üîé [Plus d'informations Webpack.mix.js](https://laravel.com/docs/5.6/mix)

### ü§ì Questions

- Quels fichiers ont √©t√© cr√©√© ?
- Que contient le fichier webpack.mix.js ?
- Le fichier webpack.mix.js fait r√©f√©rence √† des fichiers dans ```ressources/js/*``` et ```ressources/sass/*```, allez y jeter un coup d'oeil. (m√™me si dans se projet nous n'allons rien modifier).
- Pourquoi les d√©pendances sont-elles g√©r√© Web par un autre gestionnaire de d√©pendances ?
- Pourquoi la fusion / compilation des ressources est-elle si importante ?

## Cr√©er les templates

Nous avons donc maintenant :

- La structure Laravel.
- La d√©finition de notre base de donn√©es.
- Les d√©pendances clients (Boostrap 4‚Ä¶)

Nous allons donc pouvoir commencer la cr√©ation des templates. L'organisation du code est quelques choses d'important,elle n'est pas √† n√©gliger un code organis√© est un code agr√©able √† r√©diger.

Notre vue va √™tre d√©coup√©e en 3 partie :

![Structure](ressources/3partie.png)

- ‚úã Pourquoi le d√©coupage en ¬´ 3 templates ¬ª est-elle importante / Qu'elle est le plus pour le d√©veloppeur ?

### Le template principal

Nous allons commencer par d√©finir notre ¬´ Template principal ¬ª celui-ci va contenir l'ensemble des √©lement partag√© sur toutes no page √† savoir :

- Les JS
- Les CSS
- La structure commune

```html
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="csrf-token" content="{{ csrf_token() }}">

        <title>@yield('title')</title>

        <link href="{{ asset('css/app.css') }}" rel="stylesheet">
        <script type="text/javascript" src="{{ asset('js/app.js') }}"></script>
    </head>
    <body>
        <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
            <a class="navbar-brand" href="#">Ma Todo List</a>
        </nav>

        @yield('content')

    </body>
</html>
```

Maintenant que nous avons le contenu, nous devons cr√©er un nouveau fichier. 

- Cr√©er un nouveau fichier ```resources/views/template.blade.php```
- Copiez-Coller le html dans le fichier.

üëèüëè Bravo, vous venez de cr√©er votre premier template.

#### ü§ì Questions

- Pourquoi le fichier est-il nomm√© ¬´ ‚Ä¶.blade.php ¬ª ?
- √Ä quoi correspond {% raw %} ```{{ asset('‚Ä¶') }} {% endraw %}?
- √Ä quoi correspond la directive ¬´ yield ¬ª? En quoi est-ce tr√®s important
- Est-il possible de d√©finir une ¬´ zone ¬ª ou d'autre ressources JS / CSS seront ins√©r√© lors de l'ex√©cution ? ![Voir la documentation](https://laravel.com/docs/5.6/blade#stacks)
- Maintenant que vous avez la r√©ponse, ajouter une ¬´ stack ¬ª pour le script et le style dans l'ent√™te.

{% reveal text="Voir la solution" %}
    @stack('scripts')
    @stack('styles')
{% endreveal %}

### Tester

Pour lancer votre application il suffit de lancer dans un terminal :

```sh
$ php artisan serve
```

Une fois lancer [Rendez vous sur http://127.0.0.1:8080](http://127.0.0.1:8080).

{% reveal text="Un soucis non ?" %}
Rien √† chang√© ? C'est normal‚Ä¶ Continuons!
{% endreveal %} 

### Liste des todos

Maintenant que nous avons d√©fini notre template de base nous allons pouvoir d√©finir notre page principal, la page ¬´ liste des todos ¬ª. Une fois termin√©e celle-ci va ressembler √† :

![liste](./ressources/liste.png)

Avant de commencer la r√©alisation de ce template regardont ce que l'on peux y voir :

- Un formulaire ¬´ form ¬ª
- Une ¬´ liste ¬ª

Nous allons donc avoir besoin de composant bootstrap. Premi√®re √©tape regarder [la documentation de bootsrap !](https://getbootstrap.com/docs/4.0/components/alerts/)

#### ü§ì Questions

- Quels composants (components) allons nous avoir besoins ?
- Est-ce les seuls ?

#### D√©finition du template ¬´ Liste ¬ª / ¬´ Home ¬ª

Nous allons cr√©er un 2nd template celui qui va √™tre charger d'afficher la liste des todos. Cr√©√©r un nouveau fichier ```resources/views/home.blade.php``` et y mettre le contenu suivante :

```html
@extends("template")

@section("title", "Ma Todo List")

@section("content")
    <div class="container">
        <div class="card">
            <div class="card-body">
                <!-- Action -->
                <form action="/action/add" method="post" class="add">
                    <div class="input-group">
                        <span class="input-group-addon" id="basic-addon1"><span class="oi oi-pencil"></span></span>
                        <input id="texte" name="texte" type="text" class="form-control" placeholder="Prendre une note‚Ä¶" aria-label="My new idea" aria-describedby="basic-addon1">
                    </div>
                </form>

                <!-- Liste -->
                <ul class="list-group">
                    @forelse ($todos as $todo)
                        <li class="list-group-item">
                            <span>{{ $todo->texte }}</span>
                            <!-- Action √† ajouter pour Terminer et supprimer -->
                        </li>
                    @empty
                        <li class="list-group-item text-center">C'est vide !</li>
                    @endforelse
                </ul>
            </div>
        </div>
    </div>
@endsection
```

### ü§ì Questions

- ```@extends``` ? √Ä quoi sert cette directive, pourquoi ¬´ template ¬ª?
- Modifier le titre afficher dans la barre.  
- √Ä quoi correspond le ```@forelse ‚Ä¶ @empty ‚Ä¶ @endforelse```

## Et maintenant ?

Bien‚Ä¶ r√©cupitulons ! Nous avons :

- Le model
- Le controlleur
- Les templates (template et home)

Il faut maintenant assembler l'ensemble pour que votre page s'affiche lors d'une requ√™te.

## Cr√©ation des routes

La d√©finition des routes ce fait dans le fichier ```routes/web.php``` pour l'instant vous devez avoir qu'une seule route de d√©fini.

Supprimer celle d√©j√† d√©fini, et ajouter :

```php
Route::get('/', "TodosController@liste");
```

### ü§ì Question

- √Ä quoi correspond la notation "TodosController@liste" ?

## Tester

Vous voyez ¬´ Liste ¬ª ? C'est OK !

## Affichage de la liste

Bon afficher ¬´ Liste ¬ª c'est un bon d√©but‚Ä¶ Modifier la m√©thode ¬´ liste() ¬ª pour qu'elle ressemble √† :

```php
    return view("home", ["todos" => Todo::all()]);
```

## Tester

La page s'affiche ? Super !

- Ajouter une entr√©e ¬´ √† la main ¬ª gra√ße √† l'explorateur de base de donn√©es de PHPStorm

Raffraichissez la page, vous devez maintenant voir votre texte üòé.

## Action d'ajout

Maintenant que nous avons impl√©ment√© la liste, nous allons pouvoir faire le code pour la partie ¬´ ajout d'une t√¢che ¬ª. La m√©thodologie sera la m√™me que pour la liste √† savoir :

- Ajout du code dans le contr√¥leur.
- Ajout de la route.
- Modification du template pour impl√©menter la fonctionnalit√©

### Le contr√¥leur

Nous allons faire un mapping automatique entre la requette HTTP et le mod√®le ```Todos```

```php
public function saveTodo(Request $request){
    Todos::create($request->all());
    return redirect()->action('TodosController@liste');
}
```

Que va t‚Äôil se passer lors de l‚Äôappel ? L‚Äôobjet ```$request``` contient tous les param√®tres de l‚Äôappel HTTP, la m√©thode ```all()``` permet de les r√©cup√©rer. L‚Äôobjet ```Todos``` poss√®de une m√©thode permettant de cr√©er un nouvel enregistrement en base de donn√©es. Les valeurs pass√©es en param√®tre de ```create()``` permette de renseigner automatiquement les champs en base de donn√©es.

- √Ä votre avis est-ce une mani√®re s√©curiser de proc√©der ?

{% reveal text="Ajouter une todo version alternative" %}
La premi√®re approche est la plus rapide mais elle sous entend que tous les param√®tres soient bien initialis√©s dans ¬´ l‚Äôinput ¬ª HTTP. Dans cette version la m√©thode est plus compl√®te et g√®re la cr√©ation de l‚Äôobjet Todo manuellement en r√©cup√©rant les diff√©rents √©l√©ments dans la requette HTTP

```php
public function saveTodo(Request $request){
    $texte = $request->input('texte');

    if($texte){
      $todo = new Todos();
      $todo->texte = $texte;
      $todo->termine = 0;
      $todo->save();
    }

    return redirect()->action('TodosController@liste');
}
```

{% endreveal %}

Et c'est tout ! Simple non ?

### La Route

Pour la route modifier le fichier ```routes/web.php```

```php
Route::post('/action/add', "TodosController@saveTodo");
```

#### ü§ì Questions

- √Ä quoi correspond le mot clef ¬´ post ¬ª ?
- Que ce passe-t-il si on fait un appel de type GET (ou PUT, ‚Ä¶)

#### Tester

Maintenant que nous avons notre action d'ajout, nous allons pouvoir tester notre Todo List r√©ellement.

- D√©marrer votre serveur de test (```php artisan serve```).
- Ajouter une nouvelle todo dans l'interface.
- Vous devez avoir une erreur 419. √Ä quoi correspond-t-elle ?

#### Correction de l'erreur 419

L'erreur 419 indique que votre Token ```CSRF``` (anti-rejeux) est expir√©, ou plut√¥t dans notre cas que vous ne l'avez pas fourni. C'est une s√©curit√© int√©gr√© √† Laravel pour l'ensemble des requ√™tes POST qui arrive dans votre code.

Nous devons donc ajouter un input ¬´ cach√© ¬ª dans notre formulaire pour envoyer en plus du texte une valeur dite de s√©curit√©.

Modifier le template ```home.blade.php``` pour ajouter le code suivant dans la partie ```<form>``` :

```
<form [‚Ä¶]>
@csrf <!-- << L'annotation ici ! -->
[‚Ä¶]
</form>
```

ü§ì Oui, oui, c'est juste √ßa.

#### Re-tester

Normalement c'est ok !

![Vide](./ressources/vide.png)
![Avec message 1](./ressources/message1.png)

## Action marquer comme terminer

Pour l‚Äôaction terminer nous allons devoir updater un enregistrement en base de donn√©es, pour √ßa nous allons le r√©cup√©rer puis mettre le ```boolean``` termine √† 1.

```php
public function markAsDone($id){
    $todo  = Todos::find($id);
    if($todo){
        $todo->termine = 1;
        $todo->save();
    }
    return redirect()->action('TodosController@liste');
}
```

### Route

Ajouter une route de type ```get``` avec un param√®tre nomm√© ```{id}``` dans le fichier ```routes/web.php```.

```php
Route::get('/action/done/{id}', "TodosController@markAsDone");
```

## Action de suppression

Pour la partie suppression, nous allons devoir dans un premier temps r√©cup√©rer la todo par son ID.

```php
public function deleteTodo($id){
        $todo  = Todos::find($id);
        if($todo){
            $todo->delete();
        }

        return redirect()->action('TodosController@liste');
}
```

### Route

Ajouter une route de type ```get``` avec un param√®tre nomm√© ```{id}``` dans le fichier ```routes/web.php```.

```php
Route::get('/action/delete/{id}', "TodosController@deleteTodo");
```

#### Questions

- Un delete de type get est-ce normal ?
- Quel est l'autre solution ?
- Pourquoi dans notre cas c'est ¬´ la seul solution ¬ª ?

## Ajouter les actions dans le template

Maintenant que nous avons d√©clar√© nos ¬´ 3 actions ¬ª dans notre contr√¥leur (et dans le fichier de route) nous allons les utiliser dans notre template ¬´ home ¬ª voici les √©tapes

- √âditer le fichier ```resources/views/home.blade.php```.
- Ajouter la bonne url sur l'actions de votre formulaire.
- Ajouter sur chaque ligne deux liens qui vont ¬´ suprimer ¬ª et ¬´ terminer ¬ª. (Aide : ```@todo->id```)

## 2nd page

Ajouter une nouvelle page dans votre site web cette page sera la page ¬´ √Ä propos ¬ª, aucune aide autre que

- Route.
- M√©thode dans le contr√¥leur.
- Template qui ¬´ @extends ¬ª du gabarit de base.

## √âvolution souhait√©e : Ajout de contr√¥le

 Seul les ```Todos``` marqu√©s comme termin√©s peuvent √™tre supprim√©, il faudra donc controller l‚Äô√©tat avant de faire le ```delete()``` en base de donn√©es

- Modifier la m√©thode ```deleteTodo``` contr√¥leur pour ajouter la r√®gle de gestion (Indice ```$todo->termine```)
- Ajouter la directive ```@if``` dans le template afficher uniquement les bonnes actions en fonction de l'√©tat de la todo.
- Pour les boutons d'actions utiliser des icones :
    - Exemple [fontawesome](https://fontawesome.com/how-to-use/on-the-web/setup/getting-started?using=web-fonts-with-css)
    - Choisir [une ic√¥ne](https://fontawesome.com/icons?d=gallery)
    - Utilisation : ```<i class="fas fa-stroopwafel"></i>```
- ¬´ Encapsuler ¬ª votre ic√¥ne autour d'un ```<a>``` exemple ```<a href="/actions/done/{{$todo->id}}" class="btn btn-success"><i class="fas fa-check"></i></a>```

## √âvolution souhait√©e : Message en cas d'erreur

Avertir l'utilisateur en cas d'erreur est important! Comme vous l'avez constat√© aucune gestion de message d'erreur n'est pr√©sente dans le contr√¥leur. Impl√©ment√© des messages (basique) grace √† l'aide suivante :

### Ajouter un message √† afficher

```php
[‚Ä¶]
Session::flash('message', "Message d'erreur de traitement √† d√©finir.");
[‚Ä¶]
```

### Afficher le message dans votre template

```html
@if(Session::has('message'))
    <p class="alert alert-danger">{{ Session::get('message') }}</p>
@endif
```

[Explication sur le Flash](https://laravel.com/docs/5.6/session#flash-data)