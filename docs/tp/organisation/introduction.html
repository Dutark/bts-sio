
<!DOCTYPE HTML>
<html lang="fr" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>(Ré)organisation d'un code · Cours BTS SIO Slam 5</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-page-toc/page-toc.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-click-reveal/click_reveal.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Tapez pour rechercher" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Aides mémoires
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../cheatsheets/git/">
            
                <a href="../../cheatsheets/git/">
            
                    
                    Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../cheatsheets/cordova/">
            
                <a href="../../cheatsheets/cordova/">
            
                    
                    Cordova
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../cheatsheets/docker/">
            
                <a href="../../cheatsheets/docker/">
            
                    
                    Docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../cheatsheets/vuejs/">
            
                <a href="../../cheatsheets/vuejs/">
            
                    
                    VueJS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Initiation à Git
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=git">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../git_initiation/">
            
                <a href="../git_initiation/">
            
                    
                    TP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Git en groupe + GitLab
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=gitlab">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../gitlab/">
            
                <a href="../gitlab/">
            
                    
                    Git en groupe + GitLab
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Organisation du code (À relire)
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=organisations">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.2" data-path="introduction.html">
            
                <a href="introduction.html">
            
                    
                    (Ré)organisation d'un code
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Javascript avancé (À venir)
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=javascript_avancés">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../javascript_avancés/introduction.html">
            
                <a href="../javascript_avancés/introduction.html">
            
                    
                    Prise en main « Javascript avancés »
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Programmation sécurisée avec OWASP
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=securite_applications">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../securite/">
            
                <a href="../securite/">
            
                    
                    Tentatives et injections
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    Laravel
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=laravel">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../laravel/introduction.html">
            
                <a href="../laravel/introduction.html">
            
                    
                    Installation de Laravel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../laravel/application_todo_list.html">
            
                <a href="../laravel/application_todo_list.html">
            
                    
                    Application/Site web Todo List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../laravel/creation_api.html">
            
                <a href="../laravel/creation_api.html">
            
                    
                    Lumen pour écrire des API
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    NodeJS  (À venir)
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" >
            
                <span>
            
                    
                    Slides
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" >
            
                <span>
            
                    
                    Réaliser des API en Javascript
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" >
            
                <span>
            
                    
                    Hébergement dans le cloud
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    VueJS
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=vuejs">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../vuejs/tp1-vuejs-laravel-api.html">
            
                <a href="../vuejs/tp1-vuejs-laravel-api.html">
            
                    
                    Librairie VueJS + Laravel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../vuejs/tp1.html">
            
                <a href="../vuejs/tp1.html">
            
                    
                    Librairie VueJS + Web Php
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../vuejs/tp2.html">
            
                <a href="../vuejs/tp2.html">
            
                    
                    Réaliser une application avec VueJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="../vuejs/firebase-vuejs.html">
            
                <a href="../vuejs/firebase-vuejs.html">
            
                    
                    VueJS + Firebase
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    VueJS exemple
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/demo/vuejs/demo1/index.html">
            
                    
                    Démo 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/demo/vuejs/counter/index.html">
            
                    
                    Compteur
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/demo/vuejs/clock/index.html">
            
                    
                    Horloge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/demo/vuejs/timestamp-color/index.html">
            
                    
                    Timestamp + Couleur
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/demo/vuejs/sound/index.html">
            
                    
                    Sonomètre
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    Cordova + VueJS
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=cordova">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../cordova/decouverte.html">
            
                <a href="../cordova/decouverte.html">
            
                    
                    Découverte
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../cordova/vuejs_cordova.html">
            
                <a href="../cordova/vuejs_cordova.html">
            
                    
                    Projet Cordova + VueJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="../api/doc_api_led.html">
            
                <a href="../api/doc_api_led.html">
            
                    
                    Documentation API « Led »
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    Docker
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" >
            
                <a target="_blank" href="https://rawgit.com/c4software/bts/master/cours/docker/">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="../docker/introduction.html">
            
                <a href="../docker/introduction.html">
            
                    
                    Première approche
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="../docker/dockerfile.html">
            
                <a href="../docker/dockerfile.html">
            
                    
                    Dockerfile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" data-path="../docker/docker_compose.html">
            
                <a href="../docker/docker_compose.html">
            
                    
                    Docker Compose
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" >
            
                <span>
            
                    
                    GitLab-CI
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=gitlabci">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="../ci/pages.html">
            
                <a href="../ci/pages.html">
            
                    
                    Utiliser Gitlab Pages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="../ci/ci-hybride.html">
            
                <a href="../ci/ci-hybride.html">
            
                    
                    App Hybride et Gitlab-CI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" >
            
                <span>
            
                    
                    Python : Framework Flask
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=python">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="../python/flask.html">
            
                <a href="../python/flask.html">
            
                    
                    Installation de Python et Flask
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="../python/flask_todolist_api.html">
            
                <a href="../python/flask_todolist_api.html">
            
                    
                    Réécriture des API de la TODO List
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" >
            
                <span>
            
                    
                    Android
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=android">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Publié avec GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >(Ré)organisation d'un code</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <blockquote>
<p><em>Last modified: Wed Sep 18 2019 22:07:46 GMT+0200 (GMT+02:00)</em></p>
</blockquote>
<h1 id="r&#xE9;organiser-mon-code">(R&#xE9;)organiser mon code</h1>
<h2 id="introduction">Introduction</h2>
<p>Dans ce TP nous allons voir comment &#xAB; r&#xE9;-organiser &#xBB; du code pour le rendre plus facilement maintenable.</p>
<p>&#x26A0;&#xFE0F; Le code fourni est clairement de mauvaise qualit&#xE9;e. Il ne dois pas &#xEA;tre pris comme r&#xE9;f&#xE9;rence. &#x26A0;&#xFE0F;</p>
<h2 id="code">Code</h2>
<p>Le code est <a href="shitty-app.zip">disponible ici</a>. Les premi&#xE8;res &#xE9;tapes sont :</p>
<ul>
<li>Installer Wamp (si pas d&#xE9;j&#xE0; fait).</li>
<li>T&#xE9;l&#xE9;charger et &#xAB; installer &#xBB; le sources dans votre WAMP.</li>
<li>Prendre en main l&apos;application (naviguer dans les &#xE9;crans).</li>
<li>Regarder le code source.</li>
</ul>
<p>L&apos;application dois ressembler &#xE0; :</p>
<p><img src="img/capture.png" alt="preview"></p>
<h2 id="premi&#xE8;re-analyse-du-code">Premi&#xE8;re analyse du code</h2>
<p>Maintenant que vous avez pris en main le code source, quels sont les remarques sur le code pouvez-vous &#xE9;mettre :</p>
<pre><code class="lang-text">Vos remarques
</code></pre>
<p>PS: Cette premi&#xE8;re analyse est importante !</p>
<div class="click_reveal"><span> Cliquer pour voir ma &#xAB; solution &#xBB; </span><div><pre><code class="lang-text">- Non utilisation de template.
- Le code des liste est r&#xE9;pet&#xE9; (sans utilisation de fonction).
- Le Header et le Footer HTML est dupliqu&#xE9; entre les deux pages.
- Le &#xAB; Widget &#xBB; HTML des liste est r&#xE9;p&#xE9;t&#xE9; 3x
- L&apos;acc&#xE8;s &#xE0; la donn&#xE9;es n&apos;est pas centralis&#xE9; (les fichiers JSON sont ouvert directement depuis la page).
- Il n&apos;y a pas de DAO.
- Il n&apos;y a aucun mod&#xE8;le de donn&#xE9;es.
- Pas de configuration centralis&#xE9;e.
</code></pre>
</div></div>

<h2 id="d&#xE9;tail-des-fonctionnalit&#xE9;s">D&#xE9;tail des fonctionnalit&#xE9;s</h2>
<p>Avant de commencer &#xE0; modifier le code il faut &#xAB; lister &#xBB; / &#xAB; d&#xE9;tailler &#xBB; les diff&#xE9;rentes fonctionnalit&#xE9; de l&apos;application. Pour moi voil&#xE0; les points clefs</p>
<ul>
<li>Deux pages (une compl&#xE8;te, l&apos;autre de d&#xE9;tail).</li>
<li>Utilisation de bootstrap.</li>
<li>Les donn&#xE9;es sont stock&#xE9;s dans des fichiers JSON.</li>
<li>L&apos;interface est responsive.</li>
<li>Il est possible d&apos;ajouter des &#xE9;l&#xE9;ments via l&apos;interface web.</li>
</ul>
<h2 id="d&#xE9;but-des-modifications">D&#xE9;but des modifications</h2>
<p>Comme vous l&apos;avez constat&#xE9; l&apos;application comporte de nombreux d&#xE9;faut (plus ou moins important). Nous allons les prendres dans l&apos;ordre :</p>
<ul>
<li>Le d&#xE9;coupage (pour &#xE9;viter la duplication du code HTML).</li>
<li>R&#xE9;&#xE9;crire la page d&apos;accueil pour ne plus avoir 3x le m&#xEA;me code &#xE0; la suite.</li>
<li>Cr&#xE9;er un mod&#xE8;le qui repr&#xE9;sente un &#xAB; lien &#xBB;.</li>
<li>Cr&#xE9;er un DAO pour l&apos;acc&#xE8;s &#xE0; la donn&#xE9;es (Lecture, Ajout).</li>
<li>Cr&#xE9;er un fichier PHP &#xAB; avec les param&#xE8;tres / constantes &#xBB; de l&apos;application.</li>
</ul>
<h2 id="le-d&#xE9;coupage-du-code-html">Le d&#xE9;coupage du code HTML</h2>
<h3 id="header--footer">Header &amp; Footer</h3>
<p>La premi&#xE8;re &#xE9;tape est de d&#xE9;couper le HTML pour &#xE9;viter la duplication de code HTML.</p>
<ul>
<li>Sortir le Header dans une fonction avec param&#xE8;tre pour le titre.</li>
<li>Sortir le Footer dans une fonction.</li>
</ul>
<p>Pour l&apos;organisation je vous propose d&apos;&#xE9;crire un fichier PHP <code>index.php</code>. Bien &#xE9;videment, nous n&apos;allons pas le mettre &#xE0; la racine. Mais dans un dossier nomm&#xE9;e (par exemple) <code>fonctions</code>.</p>
<p>C&apos;est &#xE0; vous :</p>
<ul>
<li>Cr&#xE9;er le dossier.</li>
<li>Cr&#xE9;er un fichier <code>index.php</code> &#xE0; l&apos;interieur de celui-ci.</li>
</ul>
<p>La structure de vos sources dois ressembler &#xE0; quelques chose comme :</p>
<pre><code class="lang-shell">&#x251C;&#x2500;&#x2500; data
&#x2502;   &#x251C;&#x2500;&#x2500; reddit.json
&#x2502;   &#x251C;&#x2500;&#x2500; search.json
&#x2502;   &#x2514;&#x2500;&#x2500; twitter.json
&#x251C;&#x2500;&#x2500; detail.php
&#x251C;&#x2500;&#x2500; fonctions
&#x2502;   &#x2514;&#x2500;&#x2500; index.php
&#x251C;&#x2500;&#x2500; index.php
&#x2514;&#x2500;&#x2500; public
    &#x2514;&#x2500;&#x2500; main.css
</code></pre>
<p>Pour vous aidez dans votre missions voil&#xE0; la structure du fichier :</p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">header</span><span class="hljs-params">($titre)</span> </span>{
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;&#x2026;&quot;</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">footer</span><span class="hljs-params">($titre)</span> </span>{
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;&#x2026;&quot;</span>;
}
</code></pre>
<p>C&apos;est &#xE0; vous, dans la page <code>index.php</code> actuelle isoler le code relatif au <code>header</code> et au <code>footer</code> et mettez le dans les bonnes fonctions.</p>
<p>Utilisez maintenant les fonctions dans votre code.</p>
<blockquote>
<p>Rappel: En PHP vous devez <code>include</code> les fichiers pour rendre le code accessible dans la page. Exemple :</p>
</blockquote>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span> 
    <span class="hljs-keyword">include</span>(<span class="hljs-string">&quot;fonctions/index.php);

    header();
</span></code></pre>
<h3 id="testez">Testez</h3>
<p>Valider le bon fonctionnement de votre modification avant d&apos;allez plus loin.</p>
<h3 id="reflechissons-ensemble">Reflechissons ensemble</h3>
<p>C&apos;est bien, mais ! Est-il possible de faire autrement ? Pouvons nous utilisez un objet plut&#xF4;t que deux fonctions ?</p>
<ul>
<li>Est-ce int&#xE9;ressant ?</li>
<li>Quel est l&apos;avantage ?</li>
</ul>
<h3 id="r&#xE9;&#xE9;criture-des-listes-de-lien">R&#xE9;&#xE9;criture des listes de lien</h3>
<p>Comme vous l&apos;avez constat&#xE9;, les liste de lien (ainsi que le code PHP) est r&#xE9;p&#xE9;t&#xE9; 3x. Proc&#xE9;der ainsi est &#xE0; la fois in&#xE9;ficace et inutile. Prendre du temps pour &#xE9;viter ce genre de choses est primordiale et vous &#xE9;vitera bien des tracas en cas de mise &#xE0; jour de votre code (ou de celui d&apos;un coll&#xE8;gue).</p>
<p>Pour rappel les listes de liens ressemble &#xE0; :</p>
<p><img src="img/liste_lien.png" alt="lien"></p>
<p>Regardons ensemble le code source de cet &#xE9;l&#xE9;ment :</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;card mb-4 shadow-sm&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;card-header&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;nolink&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;detail.php?c=search&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;my-0 font-weight-normal&quot;</span>&gt;</span>Recherche <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;material-icons&quot;</span>&gt;</span>edit<span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;card-body&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list-unstyled mt-3 mb-4&quot;</span>&gt;</span>
        <span class="php"><span class="hljs-meta">&lt;?php</span>
        $data = json_decode(file_get_contents(<span class="hljs-string">&quot;./data/search.json&quot;</span>));
        <span class="hljs-keyword">foreach</span>($data <span class="hljs-keyword">as</span> $d){
            <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;&lt;li&gt;&lt;a rel=&apos;nofollow&apos; target=&apos;_blank&apos; href=&apos;&quot;</span> . $d-&gt;lien . <span class="hljs-string">&quot;&apos;&gt;&quot;</span> . $d-&gt;name . <span class="hljs-string">&quot;&lt;/a&gt;&lt;/li&gt;&quot;</span>;
        }
        <span class="hljs-meta">?&gt;</span></span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<ul>
<li>Quels &#xE9;l&#xE9;ments sont variables ?</li>
<li>Comment reformater le code pour le transformer en fonction ?</li>
</ul>
<h3 id="place-au-code">Place au code</h3>
<p>Je suis sympa je vous aide, dans <code>fonctions/index.php</code> ajouter une fonction nomm&#xE9;e <code>genereListe</code>.</p>
<pre><code class="lang-php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">genereListe</span><span class="hljs-params">($title, $file)</span></span>{
    <span class="hljs-comment">// Votre code ici.</span>
}
</code></pre>
<p>Remplacer le code dupliqu&#xE9;, par l&apos;appel &#xE0; votre fonction.</p>
<h3 id="testez">Testez</h3>
<p>Valider le bon fonctionnement de votre modification avant d&apos;allez plus loin.</p>
<h3 id="allez-plus-loin">Allez plus loin</h3>
<p>Comme vous devez le constater, nous n&apos;avons pas retirer le code dupliqu&#xE9;&#x2026; nous l&apos;avons simplifi&#xE9;, mais pas supprim&#xE9;.</p>
<p>&#xC0; votre avis comment proc&#xE9;der ?</p>
<div class="click_reveal"><span> Cliquer pour voir ma &#xAB; solution &#xBB; </span><div><pre><code class="lang-php">$elements = [
    [<span class="hljs-string">&quot;file&quot;</span> =&gt; <span class="hljs-string">&quot;search&quot;</span>, <span class="hljs-string">&quot;title&quot;</span> =&gt; <span class="hljs-string">&quot;Rechercher&quot;</span>],
    [<span class="hljs-string">&quot;file&quot;</span> =&gt; <span class="hljs-string">&quot;reddit&quot;</span>, <span class="hljs-string">&quot;title&quot;</span> =&gt; <span class="hljs-string">&quot;Reddit&quot;</span>],
    [<span class="hljs-string">&quot;file&quot;</span> =&gt; <span class="hljs-string">&quot;twitter&quot;</span>, <span class="hljs-string">&quot;title&quot;</span> =&gt; <span class="hljs-string">&quot;Twitter&quot;</span>],
];

<span class="hljs-keyword">foreach</span>($elements <span class="hljs-keyword">as</span> $el){
    genereListe($el[<span class="hljs-string">&apos;title&apos;</span>], $el[<span class="hljs-string">&apos;file&apos;</span>]);
}
</code></pre>
<ul>
<li>Quel est l&apos;avantage de ma solution ?</li>
<li>Est-ce meilleur que la votre ?</li>
</ul>
</div></div>

<h2 id="lorganisation-du-code-php">L&apos;organisation du code PHP</h2>
<h2 id="le-mod&#xE8;le-de-la-donn&#xE9;es">Le mod&#xE8;le de la donn&#xE9;es</h2>
<h2 id="le-dao">Le DAO</h2>
<h2 id="les-param&#xE8;tres">Les param&#xE8;tres</h2>
<h2 id="en-plus--migration-vers-mysql">En plus : Migration vers MySQL</h2>
<h2 id="en-plus--autorisation-dacc&#xE8;s">En plus : Autorisation d&apos;acc&#xE8;s</h2>
<h2 id="en-plus--ne-pas-autoriser-plusieurs-lien-identique">En plus : Ne pas autoriser plusieurs lien identique</h2>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"(Ré)organisation d'un code","level":"1.5.2","depth":2,"next":{"title":"Javascript avancé (À venir)","level":"1.6","depth":1,"ref":"","articles":[{"title":"Slides","level":"1.6.1","depth":2,"url":"https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=javascript_avancés","ref":"https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=javascript_avancés","articles":[]},{"title":"Prise en main « Javascript avancés »","level":"1.6.2","depth":2,"path":"tp/javascript_avancés/introduction.md","ref":"tp/javascript_avancés/introduction.md","articles":[]}]},"previous":{"title":"Slides","level":"1.5.1","depth":2,"url":"https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=organisations","ref":"https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=organisations","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","page-toc","last-modified","click-reveal","expandable-chapters","code"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"last-modified":{},"search":{},"page-toc":{"position":"before-first","selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4","showByDefault":true},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"code":{"copyButtons":true},"fontsettings":{"theme":"white","family":"sans","size":2},"click-reveal":{},"highlight":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Cours BTS SIO Slam 5","language":"fr","gitbook":"*","description":"Cette documentation est faite pour la matière Slam 5 du BTS SIO, vous retrouverez dans l’ensemble des cours (slide) ainsi que les TP."},"file":{"path":"tp/organisation/introduction.md","mtime":"2019-09-18T20:07:46.828Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-09-18T20:08:06.024Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-page-toc/anchor-3.1.1.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-page-toc/page-toc.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-click-reveal/click_reveal.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

