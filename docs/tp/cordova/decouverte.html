
<!DOCTYPE HTML>
<html lang="fr" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Découverte · Cours BTS SIO Slam 5</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-page-toc/page-toc.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-click-reveal/click_reveal.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="vuejs_cordova.html" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Tapez pour rechercher" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Aides mémoires
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../cheatsheets/git/">
            
                <a href="../../cheatsheets/git/">
            
                    
                    Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../cheatsheets/cordova/">
            
                <a href="../../cheatsheets/cordova/">
            
                    
                    Cordova
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../cheatsheets/docker/">
            
                <a href="../../cheatsheets/docker/">
            
                    
                    Docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../cheatsheets/vuejs/">
            
                <a href="../../cheatsheets/vuejs/">
            
                    
                    VueJS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Initiation à Git
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=git">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../git_initiation/">
            
                <a href="../git_initiation/">
            
                    
                    TP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Git en groupe + GitLab
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=gitlab">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../gitlab/">
            
                <a href="../gitlab/">
            
                    
                    Git en groupe + GitLab
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Programmation sécurisée avec OWASP
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=securite_applications">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../securite/">
            
                <a href="../securite/">
            
                    
                    Tentatives et injections
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Laravel
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=laravel">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../laravel/introduction.html">
            
                <a href="../laravel/introduction.html">
            
                    
                    Installation de Laravel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../laravel/application_todo_list.html">
            
                <a href="../laravel/application_todo_list.html">
            
                    
                    Application/Site web Todo List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../laravel/creation_api.html">
            
                <a href="../laravel/creation_api.html">
            
                    
                    Lumen pour écrire des API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../laravel/creation_api.html">
            
                <a href="../laravel/creation_api.html">
            
                    
                    Gestion des absences
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    VueJS
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=vuejs">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../vuejs/tp1-vuejs-laravel-api.html">
            
                <a href="../vuejs/tp1-vuejs-laravel-api.html">
            
                    
                    VueJS + Legacy Laravel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../vuejs/tp1.html">
            
                <a href="../vuejs/tp1.html">
            
                    
                    VueJS + Legacy Web
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../vuejs/tp2.html">
            
                <a href="../vuejs/tp2.html">
            
                    
                    Réaliser une application avec VueJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../vuejs/firebase-vuejs.html">
            
                <a href="../vuejs/firebase-vuejs.html">
            
                    
                    VueJS + Firebase
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    Cordova + VueJS
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=cordova">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.8.2" data-path="decouverte.html">
            
                <a href="decouverte.html">
            
                    
                    Découverte
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="vuejs_cordova.html">
            
                <a href="vuejs_cordova.html">
            
                    
                    Projet Cordova + VueJS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    Docker
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" >
            
                <a target="_blank" href="https://rawgit.com/c4software/bts/master/cours/docker/">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../docker/introduction.html">
            
                <a href="../docker/introduction.html">
            
                    
                    Première approche
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../docker/dockerfile.html">
            
                <a href="../docker/dockerfile.html">
            
                    
                    Dockerfile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../docker/docker_compose.html">
            
                <a href="../docker/docker_compose.html">
            
                    
                    Docker Compose
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    GitLab-CI
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=gitlabci">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../ci/pages.html">
            
                <a href="../ci/pages.html">
            
                    
                    Utiliser Gitlab Pages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../ci/ci-hybride.html">
            
                <a href="../ci/ci-hybride.html">
            
                    
                    App Hybride et Gitlab-CI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    Python : Framework Flask
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=python">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../python/flask.html">
            
                <a href="../python/flask.html">
            
                    
                    Installation de Python et Flask
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../python/flask_todolist_api.html">
            
                <a href="../python/flask_todolist_api.html">
            
                    
                    Réécriture des API de la TODO List
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    Android
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" >
            
                <a target="_blank" href="https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=android">
            
                    
                    Slides
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Publié avec GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Découverte</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <blockquote>
<p><em>Last modified: Wed Jan 03 2018 22:04:39 GMT+0100 (heure normale d&#x2019;Europe centrale)</em></p>
</blockquote>
<h1 id="d&#xE9;couverte-de-cordova">D&#xE9;couverte de Cordova</h1>
<p>Dans ce TP vous aller d&#xE9;couvrir la ligne de commande Cordova et cr&#xE9;er votre premier TP. Comme les autres TP, utiliser l&#x2019;aide m&#xE9;moire Cordova pour trouver les bonnes commandes &#xE0; chaque &#xE9;tape.</p>
<h2 id="ressources">Ressources</h2>
<ul>
<li><a href="https://cordova.apache.org" target="_blank">Le site Cordova</a></li>
<li><a href="https://cordova.apache.org/plugins/" target="_blank">Les plugins Cordova</a></li>
<li><a href="https://github.com/c4software/cheatsheet/tree/master/cordova" target="_blank">Aide m&#xE9;moire Cordova</a></li>
</ul>
<h2 id="installation-de-cordova">Installation de Cordova</h2>
<p>Pour pouvoir utiliser Cordova, vous allez devoir installer le <code>cordova-cli</code>. La ligne de commande Cordova utilise NodeJS pour fonctionner.</p>
<p>(Normalement NodeJS est d&#xE9;j&#xE0; install&#xE9; sur votre poste).</p>
<pre><code class="lang-shell">npm install -g cordova
</code></pre>
<p>L&#x2019;installation prend quelques minutes, un certains nombre de d&#xE9;pendances NodeJS sont n&#xE9;cessaires au bon fonctionnement.</p>
<p>&#x26A0;&#xFE0F; L&#x2019;installation de Cordova est &#xE0; effectuer qu&#x2019;une seul fois sur l&#x2019;ordinateur.</p>
<h2 id="android">Android</h2>
<p>Dans le TP, vous allez devoir compiler pour la plateforme Android. V&#xE9;rifier que celle-ci est bien installer, deux installation sont possibles :</p>
<ul>
<li>Android-Studio</li>
<li>SDK seul</li>
</ul>
<p>Je vous conseil de prendre l&#x2019;installation via Android Studio, c&#x2019;est la solution la plus simple est certainement la plus rapide. Une fois install&#xE9; ajouter les variables d&#x2019;environmments suivantes :</p>
<ul>
<li>Set the ANDROID_HOME environment variable to the location of your Android SDK installation (normalement avec Android Studio c&#x2019;est automatique).</li>
<li>Android SDK&apos;s <code>tools</code>, <code>tools/bin</code>, and <code>platform-tools</code> directories to your PATH (Le chemin est diff&#xE9;rents en fonctions des ordinateurs, si vous avez un doute demand&#xE9; moi).</li>
</ul>
<p>Une fois correctement d&#xE9;fini red&#xE9;marrer la console NodeJS pour prendre en compte les modifications.</p>
<h2 id="cr&#xE9;ation-du-projet-&#xAB;-d&#xE9;mo-&#xBB;">Cr&#xE9;ation du projet &#xAB; d&#xE9;mo &#xBB;</h2>
<p>La ligne de commande cordova fourni l&#x2019;ensemble des &#xE9;l&#xE9;ments pour cr&#xE9;er un nouveau projet. Le projet que vous allez cr&#xE9;er contient une premi&#xE8;re &#xAB; page Web &#xBB; permettant d&#x2019;avoir un projet Cordova directement fonctionnel.</p>
<pre><code class="lang-shell">cordova create demo com.chevrollier.demo Demo
</code></pre>
<p>&#x26A0;&#xFE0F; Plusieurs param&#xE8;tres sont n&#xE9;c&#xE9;ssaires &#xE0; la commande, attention &#xE0; bien les choisirs des maintenants.</p>
<h2 id="ajout-dune-plateforme">Ajout d&#x2019;une plateforme</h2>
<p>Votre projet est maintenant pr&#xEA;t vous allez pouvoir ajout une plateforme. Pour rappel Cordova est un framework de d&#xE9;veloppement capable de g&#xE9;rer plusieurs plateforme :</p>
<ul>
<li>android</li>
<li>ios</li>
<li>browser</li>
<li>&#x2026;</li>
</ul>
<p>Pour commencer nous allons ajouter la plateforme &#xAB; g&#xE9;n&#xE9;rique &#xBB; &#xE0; savoir browser, celle-ci nous permettra de tester simplement notre configuration.</p>
<pre><code class="lang-shell">cordova platform add browser

Using cordova-fetch for cordova-browser@~4.1.0
Adding browser project...
Creating Browser project. Path: platforms/browser
Discovered plugin &quot;cordova-plugin-whitelist&quot; in config.xml. Adding it to the project
Installing &quot;cordova-plugin-whitelist&quot; for browser
Adding cordova-plugin-whitelist to package.json
Saved plugin info for &quot;cordova-plugin-whitelist&quot; to config.xml
--save flag or autosave detected
Saving browser@~4.1.0 into config.xml file ...
</code></pre>
<p>La plateforme &#xE9;tant maintenant ajout&#xE9; nous pouvons &#xAB; d&#xE9;marrer &#xBB; Cordova en utilisant la commande :</p>
<pre><code class="lang-shell">cordova run browser
</code></pre>
<p><img src="ressources/run.png" alt="Premier lancement"></p>
<p>Et voil&#xE0;, le code de d&#xE9;mo tourne dans votre navigateur, g&#xE9;nial non ? Bon je vois bien que vous &#xEA;tes d&#xE9;&#xE7;u&#x2026;</p>
<h2 id="ajouter-une-seconde-plateforme">Ajouter une seconde plateforme</h2>
<p>Bon l&#x2019;int&#xE9;r&#xEA;t de Cordova c&#x2019;est vraiment le mobile, l&#x2019;utilisation de la plateforme &#xAB; browser &#xBB; va nous permettre de valider notre d&#xE9;veloppement sans avoir &#xE0; brancher son mobile pour valider le fonctionnement.</p>
<p>Pour ajouter la plateforme Android la commande est la suivante :</p>
<pre><code class="lang-shell">cordova platform add android
</code></pre>
<p>Une fois ajouter nous allons pouvoir &#xAB; lancer &#xBB; / &#xAB; compiler &#xBB; des applications pour Android.</p>
<p>&#x26A0;&#xFE0F; Attention, &#xE0; cette &#xE9;tape nous avons besoin d&#x2019;un poste correctement &#xE9;quip&#xE9; pour compiler de l&#x2019;Android</p>
<h2 id="lancer-lapplication">Lancer l&#x2019;application</h2>
<p>Pour lancer l&#x2019;application vous avez deux solutions :</p>
<ul>
<li>Votre t&#xE9;l&#xE9;phone.</li>
<li>Un &#xE9;mulateur (Celui du SDK, Bluestack, Genymotion).</li>
</ul>
<h2 id="installation-de-genymotion">Installation de Genymotion</h2>
<p>Sous Windows vous avez la possiblit&#xE9; d&#x2019;installer l&#x2019;&#xE9;mulateur Genymotion, pour installer celui-ci rendez-vous sur <a href="https://www.genymotion.com/#!/" target="_blank">le site officiel</a>.</p>
<p>Sur l&#x2019;&#xE9;mulateur le d&#xE9;bogage est d&#xE9;j&#xE0; activer.</p>
<h2 id="lancer-lapplication-sur-votre-t&#xE9;l&#xE9;phone">Lancer l&#x2019;application sur votre t&#xE9;l&#xE9;phone</h2>
<p>Maintenant que nous avons notre plateforme de pr&#xEA;te lancons l&#x2019;application sur un t&#xE9;l&#xE9;phone Android (oui, pour iOs il faut un Mac).</p>
<h3 id="1-activer-le-mode-d&#xE9;veloppeur">1. Activer le mode d&#xE9;veloppeur</h3>
<p>Sur votre t&#xE9;l&#xE9;phone, vous devez activer le mode d&#xE9;veloppeur pour lancer une application depuis un ordinateur. Pour l&#x2019;activer, rendez-vous dans les Param&#xE8;tres g&#xE9;n&#xE9;raux de l&#x2019;onglet Syst&#xE8;me, pour ensuite ouvrir le volet &#xC0; propos de l&#x2019;appareil. Une fois que cela est fait, il vous suffit de tapoter par quatre fois le Num&#xE9;ro de Build pour d&#xE9;bloquer les Options pour les d&#xE9;veloppeurs.</p>
<p>Le mode d&#xE9;veloppeur d&#xE9;bloque les options &#xAB; avanc&#xE9; &#xBB; de votre t&#xE9;l&#xE9;phone Android. Vous allez pouvoir activer le lancement &#xE0; distance d&#x2019;application (avec adb).</p>
<p>Dans le nouveau Menu activer :</p>
<ul>
<li>Le mode d&#xE9;bogage USB pour copier des donn&#xE9;es entre le terminal et l&#x2019;ordinateur, installer des applications sur votre appareil.</li>
</ul>
<h3 id="2-installer-le-driver-adb-pour-lordinateur">2. Installer le driver adb pour l&#x2019;ordinateur</h3>
<p>Votre t&#xE9;l&#xE9;phone est un p&#xE9;riph&#xE9;rique usb comment un autre, pour dialoguer avec votre ordinateur &#xE0; besoin d&#x2019;un driver. De base votre t&#xE9;l&#xE9;phone est une sorte de &#xAB; clef usb &#xBB;. Une fois le debug actif il va devenir un &#xAB; Android Debug Bridge Device &#xBB;. Ce mode la n&#x2019;est par d&#xE9;faut pas connu par Windows (quelques soit la version), vous devez donc installer un driver. Nous allons utiliser &#xAB; Universal Adb Drivers &#xBB; fourni par Clockworkmod :</p>
<ul>
<li>Brancher votre t&#xE9;l&#xE9;phone au PC.</li>
<li><a href="https://adb.clockworkmod.com/" target="_blank">T&#xE9;l&#xE9;charger</a></li>
</ul>
<h3 id="3-lancer-lapplication-sur-votre-mobile">3. Lancer l&#x2019;application sur votre mobile</h3>
<p>Maintenant que votre mobile est reconnu (il faut peut-&#xEA;tre d&#xE9;brancher et rebrancher votre mobile pour que &#xE7;a fonctionne &#xE0; 100%), nous allons lancer l&#x2019;application sur votre mobile, pour &#xE7;a c&#x2019;est tr&#xE8;s simple il suffit de faire sur votre ordinateur :</p>
<pre><code class="lang-shell">cordova run android
</code></pre>
<h3 id="4-voir--d&#xE9;bugger-le-code-de-lapplication-sur-votre-mobile">4. Voir / D&#xE9;bugger le code de l&#x2019;application sur votre mobile</h3>
<p>Maintenant que l&#x2019;application fonctionne sur votre mobile, vous pouvez le d&#xE9;bugger en temps r&#xE9;el. Les modifications ne sont bien sur par permanente par contre elle vous permette de tester des modifications sans pour autant avoir a recompiler votre application. Pour &#xE7;a rien de plus simple il suffit d&#x2019;utiliser Google Chrome, dans les options &#xAB; avanc&#xE9;s &#xBB; de Chrome nous avons le remote debbugging et c&#x2019;est cette option qui nous int&#xE9;resse :</p>
<ul>
<li>Ouvrez un nouvelle onglet Chrome <a href="chrome://inspect/#devices" target="_blank">chrome://inspect/#devices</a></li>
</ul>
<p><img src="ressources/remote_debug.png" alt="Remote"></p>
<ul>
<li>Patientez quelques secondes votre mobile doit appairaitre dans la liste.</li>
</ul>
<p><img src="ressources/remote_debug_show.png" alt="Remote">
Votre application (ainsi que vos Tabs Chrome) doit apparaitre dans la liste</p>
<ul>
<li>S&#xE9;l&#xE9;ctionnez le &#xAB; Inspect &#xBB; qui correspond &#xE0; votre application.</li>
</ul>
<p><img src="ressources/inspect.png" alt="inspect"></p>
<p>Tenter des choses dans la &#xAB; Console &#xBB; qui vient de s&#x2019;ouvrir.</p>
<h2 id="ajouter-un-premier-plugin">Ajouter un premier plugin</h2>
<p>Cordova fonctionne avec des plugins, &#xE0; chaque fois que vous voulez utiliser une fonctionnalit&#xE9; &#xAB; native &#xBB; de votre mobile vous devez installer un plugin. Les plugins sont une combinaison de :</p>
<ul>
<li>Le code natif (Android, iOs, &#x2026;)</li>
<li>Un bridge (interface de communication) Javascript.</li>
</ul>
<p>Les plugins sont disponible en ligne sur le site :</p>
<ul>
<li><a href="https://cordova.apache.org/plugins/" target="_blank">Plugin Cordova</a></li>
</ul>
<p>Comme toujours, il est possible de trouver des plugins (non officel) sur Gitub par exemple, cependant il faut faire attention &#xE0; leur contenu (il vaux mieux &#xEA;tre prudent&#x2026;).</p>
<h3 id="1-ajouter-un-plugin">1. Ajouter un plugin</h3>
<p>Pour ajouter un plugin il suffit de faire :</p>
<pre><code class="lang-shell">cordova plugin add &lt;monPlugin&gt;
</code></pre>
<p>Pour l&#x2019;exemple nous allons ajouter le plugin <code>cordova-plugin-camera</code></p>
<pre><code class="lang-shell">cordova plugin add cordova-plugin-camera
</code></pre>
<p>Quelques secondes plus tard votre application est <code>capable</code> d&#x2019;utiliser la Cam&#xE9;ra de votre t&#xE9;l&#xE9;phone &#x1F389;&#x1F389;</p>
<h3 id="2-utiliser-le-plugin">2. Utiliser le plugin</h3>
<p>Pour le test nous allons utiliser la console pour tester le plugin :</p>
<ul>
<li>Lancer/Compiler l&#x2019;application &#xE0; nouveau sur votre mobile :</li>
</ul>
<pre><code class="lang-shell">cordova run android
</code></pre>
<ul>
<li>Lancer le Remote Debug sur Chrome.</li>
<li>Dans la console qui vient de s&#x2019;ouvrir faite :</li>
</ul>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cameraSuccess</span>(<span class="hljs-params">i</span>)</span>{
    <span class="hljs-built_in">console</span>.log(i);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cameraError</span>(<span class="hljs-params">e</span>)</span>{
    <span class="hljs-built_in">console</span>.log(e)
}
navigator.camera.getPicture(cameraSuccess, cameraError, {});
</code></pre>
<p>Le <code>{}</code> est la liste des options, tester quelques options <a href="https://www.npmjs.com/package/cordova-plugin-camera#module_camera.CameraOptions" target="_blank">disponible ici</a></p>
<h3 id="3-modifier-le-code-de-d&#xE9;mo">3. Modifier le code de d&#xE9;mo</h3>
<p>Modifier le code de d&#xE9;monstration pour utiliser le plugin de mani&#xE8;re permanente.</p>
<ul>
<li>Ajouter un bouton.</li>
<li>Ajouter un fonction javascript pour d&#xE9;clencher la cam&#xE9;ra</li>
<li>Ajouter un &#xE9;v&#xE9;nement <code>onClick</code> sur le bouton que vous avez cr&#xE9;&#xE9;</li>
</ul>
<h2 id="ajouter-un-second-plugin">Ajouter un second plugin</h2>
<p>Pour le second plugin nous allons ajouter un plugin qui n&#x2019;as pas comme vocation direct d&#x2019;&#xE9;xposer un bridge en Javascript. Nous allons ajouter un plugin qui int&#xE9;gre encore un peu plus une application hybride dans le syst&#xE8;me Android  <code>cordova-plugin-headercolor</code></p>
<p>Le plugin permet de :</p>
<ul>
<li>HeaderColor is a cordova plugin to change color of header in multitask view. Android devices.</li>
</ul>
<p>Les sources du plugin sont <a href="https://github.com/tomloprod/cordova-plugin-headercolor" target="_blank">disponibles ici</a></p>
<h3 id="1-ajouter-le-plugin">1. Ajouter le plugin</h3>
<pre><code class="lang-shell">cordova plugin add cordova-plugin-headercolor
</code></pre>
<h3 id="2-ajouter-la-configuration-du-plugin">2. Ajouter la configuration du plugin</h3>
<p>Ajouter dans le fichier <code>config.xml</code> l&#x2019;&#xE9;l&#xE9;ment suivant :</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">preference</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;HeaderColor&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;#2959cb&quot;</span> /&gt;</span>
</code></pre>
<h3 id="3-lancer-lapplication-pour-voir-le-changement">3. Lancer l&#x2019;application pour voir le changement</h3>
<pre><code class="lang-shell">cordova run android
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="vuejs_cordova.html" class="navigation navigation-next navigation-unique" aria-label="Next page: Projet Cordova + VueJS">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Découverte","level":"1.8.2","depth":2,"next":{"title":"Projet Cordova + VueJS","level":"1.8.3","depth":2,"path":"tp/cordova/vuejs_cordova.md","ref":"tp/cordova/vuejs_cordova.md","articles":[]},"previous":{"title":"Slides","level":"1.8.1","depth":2,"url":"https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=cordova","ref":"https://c4software.github.io/bts-sio/cours/sources/revealjs/index.html?source=cordova","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","page-toc","last-modified","click-reveal","expandable-chapters","code"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"last-modified":{},"search":{},"page-toc":{"position":"before-first","selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4","showByDefault":true},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"code":{"copyButtons":true},"fontsettings":{"theme":"white","family":"sans","size":2},"click-reveal":{},"highlight":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Cours BTS SIO Slam 5","language":"fr","gitbook":"*","description":"Cette documentation est faite pour la matière Slam 5 du BTS SIO, vous retrouverez dans l’ensemble des cours (slide) ainsi que les TP."},"file":{"path":"tp/cordova/decouverte.md","mtime":"2018-01-03T21:04:39.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-01-03T21:56:17.249Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-page-toc/anchor-3.1.1.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-page-toc/page-toc.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-click-reveal/click_reveal.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

